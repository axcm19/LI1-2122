<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa2_2021li1g066</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Afonso Marques &lt;a94940@alunos.uminho.pt&gt;;<br />: Lu&#237;s Maia &lt;a95656@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa2_2021li1g066</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:geraPecasVazio">geraPecasVazio</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:removeVazioCoordRep">removeVazioCoordRep</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:juntaVazioLP">juntaVazioLP</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:separaMatriz">separaMatriz</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]]</li><li class="src short"><a href="#v:separaEmLinhas">separaEmLinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:ordenaPecasLinha">ordenaPecasLinha</a> :: [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]] -&gt; [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]]</li><li class="src short"><a href="#v:insere">insere</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:ordena">ordena</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:removeCoordenadasLinha">removeCoordenadasLinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>]</li><li class="src short"><a href="#v:semCoordenadas">semCoordenadas</a> :: [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:constroiMapa">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:desconstroiMapa">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:insereCoordenadas">insereCoordenadas</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:insereCoordenadasLinha">insereCoordenadasLinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:eliminaVazioLista">eliminaVazioLista</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:geraPecasVazio" class="def">geraPecasVazio</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:geraPecasVazio" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:geraPecasVazio" title="Tarefa2_2021li1g066">geraPecasVazio</a></code> gera uma lista de pe&#231;as Vazio com todas as coordenadas possiveis, isto &#233;,
procura na lista de pe&#231;as dada as maiores componentes x e y e combina-as.</p></div></div><div class="top"><p class="src"><a id="v:removeVazioCoordRep" class="def">removeVazioCoordRep</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:removeVazioCoordRep" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:removeVazioCoordRep" title="Tarefa2_2021li1g066">removeVazioCoordRep</a></code> pega na lista gerada na fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:geraPecasVazio" title="Tarefa2_2021li1g066">geraPecasVazio</a></code> e remove as pe&#231;as dessa lista cujas
coordenadas j&#225; estejam declaradas na lista de pe&#231;as dada.</p></div></div><div class="top"><p class="src"><a id="v:juntaVazioLP" class="def">juntaVazioLP</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:juntaVazioLP" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:juntaVazioLP" title="Tarefa2_2021li1g066">juntaVazioLP</a></code> junta &#224; lista de pe&#231;as dada a lista de pe&#231;as Vazio gerada, j&#225; sem a presen&#231;a de pe&#231;as 
com coordenadas repetidas.</p></div></div><div class="top"><p class="src"><a id="v:separaMatriz" class="def">separaMatriz</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]] <a href="#v:separaMatriz" class="selflink">#</a></p><div class="doc"><p>Depois de se inserir as pe&#231;as Vazio e as respetivas coordenadas, a fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:separaMatriz" title="Tarefa2_2021li1g066">separaMatriz</a></code> separa as pe&#231;as nas respetivas
linhas, sendo que a primeira linha da matriz corresponde &#224; primeira lista contida na lista de resultados. Esta fun&#231;&#227;o recebe
um valor inteiro <code>x</code> para separar as pe&#231;as da linha <code>x</code> e recursivamente vai se separando incrementando 1 ao <code>x</code>.</p></div></div><div class="top"><p class="src"><a id="v:separaEmLinhas" class="def">separaEmLinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:separaEmLinhas" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:separaEmLinhas" title="Tarefa2_2021li1g066">separaEmLinhas</a></code> seleciona as pe&#231;as da lista dada que contenham a ordenada igual a <code>x</code>, ou seja, todas as que
perten&#231;am a essa linha.</p></div></div><div class="top"><p class="src"><a id="v:ordenaPecasLinha" class="def">ordenaPecasLinha</a> :: [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]] -&gt; [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]] <a href="#v:ordenaPecasLinha" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:ordenaPecasLinha" title="Tarefa2_2021li1g066">ordenaPecasLinha</a></code> ordena as pe&#231;as de cada linha da lista de pe&#231;as que foi anteriormente separada em linhas.
Deste modo, cada pe&#231;a fica no exato local da matriz correspondente &#224;s suas coordenadas.</p></div></div><div class="top"><p class="src"><a id="v:insere" class="def">insere</a> :: (<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:insere" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:insere" title="Tarefa2_2021li1g066">insere</a></code> &#233; uma fun&#231;&#227;o auxiliar que insere uma pe&#231;a numa lista de pe&#231;as j&#225; ordenada pelas abcissas</p></div></div><div class="top"><p class="src"><a id="v:ordena" class="def">ordena</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:ordena" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:ordena" title="Tarefa2_2021li1g066">ordena</a></code> &#233; uma fun&#231;&#227;o auxiliar que insere a primeira pe&#231;a da lista na restante parte da lista ordenada recursivamente.</p></div></div><div class="top"><p class="src"><a id="v:removeCoordenadasLinha" class="def">removeCoordenadasLinha</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] <a href="#v:removeCoordenadasLinha" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o auxiliar <code><a href="Tarefa2_2021li1g066.html#v:removeCoordenadasLinha" title="Tarefa2_2021li1g066">removeCoordenadasLinha</a></code> faz desaparecer as coordenadas relativas &#224;s pe&#231;as de uma linha da matriz, pois
estas j&#225; se encontram nas suas posi&#231;&#245;es corretas.</p></div></div><div class="top"><p class="src"><a id="v:semCoordenadas" class="def">semCoordenadas</a> :: [[(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:semCoordenadas" class="selflink">#</a></p><div class="doc"><p>Uma vez que as pe&#231;as j&#225; est&#227;o nos seus respetivos lugares, &#233; preciso remover as coordenadas das pe&#231;as. A fun&#231;&#227;o 
<code><a href="Tarefa2_2021li1g066.html#v:semCoordenadas" title="Tarefa2_2021li1g066">semCoordenadas</a></code> trata exatamente de ir removendo linha a linha as coordenadas das pe&#231;as.</p></div></div><div class="top"><p class="src"><a id="v:constroiMapa" class="def">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:constroiMapa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:constroiMapa" title="Tarefa2_2021li1g066">constroiMapa</a></code> &#233; uma das fun&#231;&#245;es principais desta tarefa. Consiste em construir um Mapa atrav&#233;s de uma lista
de pares (pe&#231;a, coordenada). Para tal recebe uma lista de pe&#231;as e segue a seguinte estrat&#233;gia:</p><ol><li>Junta pe&#231;as Vazio que n&#227;o est&#227;o declaradas &#224; lista dada;</li><li>Separa a lista nas respetivas linhas, recebendo o <code>0</code> como valor inicializador pois a primeira linha encontra-se na posi&#231;ao 0;</li><li>Ordena as pe&#231;as de cada linha por ordem crescente das abcissas;</li><li>Retira as coordenadas, ficando exatamente com um Mapa.</li></ol><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>constroiMapa [(Porta, (0,2)), (Bloco, (0,3)), (Bloco, (1,3)),
</code></strong>                  (Bloco, (2,3)), (Bloco, (3,3)), (Caixa, (4,2)),
                  (Bloco, (4,3)), (Bloco, (5,3)), (Bloco, (6,0)),
                  (Bloco, (6,1)), (Bloco, (6,2)), (Bloco, (6,3))]
[[Vazio,Vazio,Vazio,Vazio,Vazio,Vazio,Bloco],
 [Vazio,Vazio,Vazio,Vazio,Vazio,Vazio,Bloco],
 [Porta,Vazio,Vazio,Vazio,Caixa,Vazio,Bloco],
 [Bloco,Bloco,Bloco,Bloco,Bloco,Bloco,Bloco]]
</pre></div></div><div class="top"><p class="src"><a id="v:desconstroiMapa" class="def">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroiMapa" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2021li1g066.html#v:desconstroiMapa" title="Tarefa2_2021li1g066">desconstroiMapa</a></code> &#233; uma das fun&#231;&#245;es principais desta tarefa. Consiste em desconstruir um Mapa retornando uma lista
de pares (pe&#231;a, coordenada). Para tal recebe um mapa segue a seguinte estrat&#233;gia:</p><ol><li>Insere as coordenadas a cada uma das pe&#231;as, inicializando com as coordenadas (0,0);</li><li>Remove as declara&#231;&#245;es de pe&#231;as Vazio e das respetivas coordenadas, sendo o resultado final o objetivo desta fun&#231;&#227;o.</li></ol><h2>Exemplo de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>desconstroiMapa [[Vazio, Vazio, Vazio, Vazio, Vazio, Vazio, Bloco],
</code></strong>                     [Vazio, Vazio, Vazio, Vazio, Vazio, Vazio, Bloco],
                     [Porta, Vazio, Vazio, Vazio, Caixa, Vazio, Bloco],
                     [Bloco, Bloco, Bloco, Bloco, Bloco, Bloco, Bloco]]
[(Bloco,(6,0)),(Bloco,(6,1)),(Porta,(0,2)),
 (Caixa,(4,2)),(Bloco,(6,2)),(Bloco,(0,3)),
 (Bloco,(1,3)),(Bloco,(2,3)),(Bloco,(3,3)),
 (Bloco,(4,3)),(Bloco,(5,3)),(Bloco,(6,3))]
</pre></div></div><div class="top"><p class="src"><a id="v:insereCoordenadas" class="def">insereCoordenadas</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:insereCoordenadas" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:insereCoordenadasLinha" class="def">insereCoordenadasLinha</a> :: [<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>] -&gt; Int -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:insereCoordenadasLinha" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:eliminaVazioLista" class="def">eliminaVazioLista</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:eliminaVazioLista" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>